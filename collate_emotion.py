from sklearn.metrics import confusion_matrix
from utils import save_result_figure
'''
主観評価実験のデータをxとし，正解データと照合し
混同行列の図をresourceディレクトリへ保存
'''

def main():
    x1='143414211133242331244444234432322331344122313144332212313123'
    x2='343414214133242331244444234432312331344122333144432232313143'
    x3='343414114111212331244444114432322331344222331144132212311143'
    x4='342414241133242331244444234432312331344222333144332432343343'
    x5='141414111111411331144444144432312331334124333144334411311143'
    x6='343414214111212331244444214432322331344222333144132212341143'
    x7='143414211311212331244441111132322331314222311114132212311143'
    x8='343414211111212331244444234432322331344222333144132212311143'
    x9='143424444111212331244442114432322331314122313144132212311143'
    x10='143424214111242331244444214432312331344222333144332212311143'
    x11='144414224331242331244444214432312331314412313144132212311143'
    x = [x1, x2, x3, x4, x5, x6, x7, x8, x9, x10, x11]

    true_list='232303113000101220133333103321211220203111222033021101200032'
    true_list=[int(y) for y in list(true_list)]
    true_total=[]
    x_total=[]
    for i, xi in enumerate(x):
        xi = [int(y)-1 for y in list(xi)]
        assert len(xi) == len(true_list), true_list
        x_total += xi
        true_total += true_list
        cm = confusion_matrix(true_list, xi)
        print(cm)
        save_result_figure(0, 0, cm, 0, f'x{i}')
    cm = confusion_matrix(true_total, x_total)
    print(cm)
    save_result_figure(0, 0, cm, 0, f'x_total')

if __name__ == '__main__':
    main()